DROP TABLE IF EXISTS task;
DROP TABLE IF EXISTS project;
DROP TABLE IF EXISTS account;


CREATE TABLE account (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account_username TEXT NOT NULL,
    email TEXT NOT NULL,
    password TEXT NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);

CREATE TABLE project (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account INTEGER REFERENCES account(id) NOT NULL,
    project TEXT NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);

CREATE TABLE task (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account INTEGER REFERENCES account(id) NOT NULL,
    project INTEGER REFERENCES project(id) NOT NULL,
    task TEXT NOT NULL,
    cycle INTEGER NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);


