DROP TABLE IF EXISTS account;
CREATE TABLE account (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account_username TEXT NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);

DROP TABLE IF EXISTS project;
CREATE TABLE project (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account INTEGER REFERENCES account(id) NOT NULL,
    project TEXT NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);

DROP TABLE IF EXISTS task;
CREATE TABLE task (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    account INTEGER REFERENCES account(id) NOT NULL,
    project INTEGER REFERENCES project(id) NOT NULL,
    task TEXT NOT NULL,
    cycle INTEGER NOT NULL,
    date_published TIMESTAMPTZ DEFAULT now() NOT NULL
);


